loop_wait: 10
etcd:
  scope: robin
  ttl: 30
  # if running etcd with authentication, application authentication by uncommenting the following
  # authentication:
    # username: myusername
    # password: mypassword
  endpoint: http://localhost:4001
  timeout: 5
haproxy_status:
  listen: 127.0.0.1:15432
mysql:
  name: mysql2
  listen: 127.0.0.1:3307
  socket: /tmp/mysql2.sock
  data_dir: ./data/mysql2
  maximum_lag_on_failover: 1048576 # 1 megabyte in bytes
  post_initialization:
    - CREATE USER batman IDENTIFIED BY 'alfred';
    - >
      GRANT
        ALTER,
        ALTER ROUTINE,
        CREATE,
        CREATE ROUTINE,
        CREATE TABLESPACE,
        CREATE TEMPORARY TABLES,
        CREATE USER,
        CREATE VIEW,
        DELETE,
        DROP,
        EVENT,
        EXECUTE,
        FILE,
        GRANT OPTION,
        INDEX,
        INSERT,
        LOCK TABLES,
        PROCESS,
        REFERENCES,
        RELOAD,
        SELECT,
        SHOW DATABASES,
        SHOW VIEW,
        TRIGGER,
        UPDATE,
        USAGE
      ON *.* TO batman@'%';
  replication:
    username: replicator
    password: rep-pass
    network: localhost
  parameters:
    lc-messages-dir: /usr/local/Cellar/mysql/5.7.12/share/mysql/english
    explicit_defaults_for_timestamp: 1
    server-id: 2
    log-bin: mysql-bin
    innodb-flush-log-at-trx-commit: 1
    sync-binlog: 1
    auto-increment-increment: 3
    auto-increment-offset: 1
    log-slave-updates: 1
